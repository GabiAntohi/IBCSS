if (self.CavalryLogger) { CavalryLogger.start_js(["SpghN"]); }

__d("TextWithEntitiesTruncated.react",["fbt","Link.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("React").PropTypes;var h=b("React").useState,i=.6;function j(a,b,c){return a.map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-b})}).filter(function(a){return a.offset>=0&&a.offset<c})}function k(a,b,c){var d=null,e=a.split("\n");a.length>b&&(d=Math.floor(b*i));if(e.length>c){a=e.slice(0,c).join("\n").length;d!==null?d=Math.min(a,d):d=a}return d}function l(a){var b=[];a.forEach(function(a){a!=null&&a.offset!=null&&a.length!=null&&a.entity!=null&&b.push({entity:babelHelpers["extends"]({},a.entity),length:a.length,offset:a.offset})});return b}function a(a){__p&&__p();var c=a.text,d=a.ranges;d=d===void 0?[]:d;var e=a.truncationStyle;e=e===void 0?"none":e;var f=a.maxLength;f=f===void 0?800:f;var i=a.maxLines;i=i===void 0?8:i;a=babelHelpers.objectWithoutPropertiesLoose(a,["text","ranges","truncationStyle","maxLength","maxLines"]);var m=h(!1),n=m[0],o=m[1];if(c==null)return null;m=c;d=l(d);var p=null,q=function(){o(!0)},r=function(){o(!1)};if(e!=="none"&&!n){f=k(c,f,i);if(f!=null){m=c.substring(0,f);d=j(d,0,m.length);switch(e){case"ellipsis-only":p=b("React").createElement(b("React").Fragment,{key:"see-more-less"},g._("\u2026"));break;case"see-more":case"see-more-and-less":p=b("React").createElement(b("React").Fragment,{key:"see-more-less"},g._("\u2026")," ",b("React").createElement(b("Link.react"),{onClick:q},g._("See More")))}}}else e==="see-more-and-less"&&n&&(p=b("React").createElement(b("React").Fragment,{key:"see-more-less"}," ",b("React").createElement(b("Link.react"),{onClick:r},g._("See Less"))));return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("TextWithEntities.react"),babelHelpers["extends"]({},a,{ranges:d,text:m})),p)}a.propTypes={text:c.string,ranges:c.arrayOf(c.shape({offset:c.number,length:c.number,entity:c.object})).isRequired,truncationStyle:c.oneOf(["none","ellipsis-only","see-more","see-more-and-less"]),maxLength:c.number,maxLines:c.number};e.exports=a}),null);
__d("MessengerMenu.react",["cx","Keys","MenuSeparator.react","MessengerDotComAndInboxM4Check.bs","ReactXUIMenu","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){a.isReactLegacyFactory={},a.type=a}c=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d=c.className;c=babelHelpers.objectWithoutPropertiesLoose(c,["className"]);return a.call(this,babelHelpers["extends"]({className:b("joinClasses")(d,"_2i-c"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6_n0":"")+" _150g")},c))||this}var d=c.prototype;d.handleKeydown=function(c,d){return c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").SPACE?a.prototype.handleKeydown.call(this,c,d):!0};return c}(b("ReactXUIMenu"));a(c);c.Item=b("ReactXUIMenu").Item;c.Separator=b("MenuSeparator.react");e.exports=c}),null);
__d("XSettingsEmployeeBetaController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/employee/beta_mode/",{enabled:{type:"Bool",defaultValue:!1}})}),null);
__d("MessengerBugNub.react",["cx","fbt","ix","AsyncRequest","CurrentUser","Image.react","Link.react","MessengerEnvironment","MessengerMenu.react","MessengerPopoverMenu.react","React","Tooltip","URI","WorkModeConfig","XSettingsEmployeeBetaController","gkx","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i("86836"),k=i("86835"),l=i("86837");a=b("React").PropTypes;var m=b("MessengerMenu.react").Item,n=b("MessengerMenu.react").Separator,o=h._("Report a bug");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("CurrentUser").isEmployee()||this.props.allowExternalReporting&&b("gkx")("984969")?b("React").createElement("div",{className:"_4_xe"+(b("gkx")("678606")?" _2jqn":"")},this.$1(),this.$2()):null};d.$2=function(){var a=b("CurrentUser").isEmployee()?"/ajax/bugs/employee_report":"/ajax/bugs/report";return b("React").createElement(b("Link.react"),babelHelpers["extends"]({"aria-label":o,href:"#",ajaxify:a,className:"_1fr8",rel:"dialog"},b("Tooltip").propsFor(o)),b("React").createElement("div",{className:"_1gng"},b("React").createElement(b("Image.react"),{src:j})))};d.$1=function(){var a=this.props.isBetaEnabled?k:l,c=h._("Internal preferences");return b("CurrentUser").isEmployee()?b("React").createElement(b("MessengerPopoverMenu.react"),babelHelpers["extends"]({className:"_1fr8",menu:this.$3()},b("Tooltip").propsFor(c)),b("React").createElement(b("Link.react"),{"aria-haspopup":"true","aria-label":c,className:"_1gng",href:"#",role:"button"},b("React").createElement(b("Image.react"),{src:a}))):null};d.$3=function(){__p&&__p();var a=this,c=null;if(this.props.unixName){var d=this.props.unixName+".sb";c=b("React").createElement(m,{label:"Sandbox",onclick:function(){return a.$4(d)}})}return b("React").createElement(b("MessengerMenu.react"),null,b("React").createElement(m,{label:"Public",onclick:function(){return a.$5(!1)}}),b("React").createElement(m,{label:"Beta",onclick:function(){return a.$5(!0)}}),b("React").createElement(n,null),b("React").createElement(m,{label:"C1 (trunkstable)",onclick:function(){return a.$4()}}),b("React").createElement(m,{label:"Intern",onclick:function(){return a.$4("intern")}}),b("React").createElement(m,{label:"Production",onclick:function(){return a.$4("prod")}}),c)};d.$5=function(a){var c=b("XSettingsEmployeeBetaController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({enabled:a}).setMethod("POST").setAllowCrossPageTransition(!0).send()};d.$4=function(a){var c=b("MessengerEnvironment").facebookdotcom?".facebook.com":".messenger.com",d=b("WorkModeConfig").company_subdomain;d=d?d:"www";d=d+(a?"."+a:"")+c;b("goURI")(b("URI").getRequestURI().getQualifiedURI().setDomain(d))};return c}(b("React").PureComponent);c.propTypes={isBetaEnabled:a.bool,unixName:a.string};e.exports=c}),null);
__d("MessengerReasonDialogContainerReact.bs",["bs_list","bs_array","bs_block","bs_curry","React","ReasonReact.bs","MessengerDialogs.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").reducerComponent("MessengerReasonDialogContainer");function h(){__p&&__p();return[g[0],g[1],g[2],g[3],function(a){return b("MessengerDialogs.bs").addHandler(function(c){return b("bs_curry")._1(a[3],[c])})},g[5],g[6],g[7],function(a){a=a[1];if(a!==void 0)return b("React").createElement("div",void 0,b("bs_array").mapi(function(a,c){return b("React").createElement("span",{key:String(a)},b("bs_curry")._1(c,0))},b("bs_array").of_list(b("bs_list").rev(a))));else return null},function(){return void 0},g[10],function(a,c){return b("bs_block").__(0,[a[0]])},g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(){return h([])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MessengerMDotMeReferralStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerMDotMeReferralStore1={refCode:null,refThreadID:null};return b}var d=c.prototype;d.getState=function(){return this.$MessengerMDotMeReferralStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.UPDATE_MDOT_ME:this.$MessengerMDotMeReferralStore1.refCode=a.refCode,this.$MessengerMDotMeReferralStore1.refThreadID=a.refThreadID,this.emitChange()}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("AtSignAllowEmptyMentionsStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){__p&&__p();a=b("DocumentMentionsRegex").PUNCTUATION;c=["@","\\uff20"].join("");d="[^"+c+a+"\\s]";f="(?:\\.[ |$]| |["+a+"]|)";var g=new RegExp("(?:^|\\s|[(\\/])(["+c+"]((?:"+d+f+"){0,20}))$");b={name:"AtSignAllowEmptyMentionsStrategy",findMentionableString:function(a){a=g.exec(a);if(a!==null){var b=a[2];return{matchingString:b,leadOffset:a[1].length}}return null}};e.exports=b}),null);
__d("XMessengerDotComNUXLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logging/promotion/",{promotion_id:{type:"Int",required:!0},instance_log_data:{type:"StringToStringMap",defaultValue:{}}})}),null);
__d("XWorkplaceDesktopDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/desktop/download/{?file}/",{build:{type:"String"},file:{type:"String"},ref:{type:"String"}})}),null);